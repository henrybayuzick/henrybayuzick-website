function makeNewPosition(t){for(var e=t.height()-50,i=t.width()-50;;){var n=Math.floor(Math.random()*e),a=Math.floor(Math.random()*i);if(console.log("New width: "+a),console.log("Main left: "+mainPosition.left),console.log("Main width: "+mainPositionWidth),a<mainPosition.left||a>mainPosition.left+mainPositionWidth){if(console.log("true width"),n<mainPosition.top||n>mainPositionHeight){console.log("true height");break}}else console.log("false")}return[n,a]}function animateDiv(t){var e=makeNewPosition(t.parent()),i=t.offset(),n=calcSpeed([i.top,i.left],e);t.animate({top:e[0],left:e[1]},n,function(){animateDiv(t)})}function calcSpeed(t,e){var i=Math.abs(t[1]-e[1]),n=Math.abs(t[0]-e[0]),a=i>n?i:n,o=.05,s=Math.ceil(a/o);return s}!function(t){t.fn.slabText=function(e){return t("body").addClass("slabtexted"),this.each(function(){e&&t.extend(a,e);var i=t(this),n=this,a=t.extend({},t.fn.slabText.defaults,e),o=t("span.slabtext",i).length,s=o?[]:String(t.trim(i.text())).replace(/\s{2,}/g," ").split(" "),r=null,l=null,h=null,d=t(window).width(),f=i.find("a:first").attr("href")||i.attr("href"),p=f?i.find("a:first").attr("title"):"";if(!(!o&&a.minCharsPerLine&&s.join(" ").length<a.minCharsPerLine)){var c=function(){var t=jQuery('<div style="display:none;font-size:1em;margin:0;padding:0;height:auto;line-height:1;border:0;">&nbsp;</div>').appendTo(i),e=t.height();return t.remove(),e},m=function(){var e,h=i.width();if(0!=h){if(i.removeClass("slabtextdone slabtextinactive"),a.viewportBreakpoint&&a.viewportBreakpoint>d||a.headerBreakpoint&&a.headerBreakpoint>h)return void i.addClass("slabtextinactive");if(e=c(),o||!a.forceNewCharCount&&e==r)r=e;else{r=e;var m,u,g,w,v=Math.min(60,Math.floor(h/(r*a.fontRatio))),x=0,b=[],P="",k="",C="";if(0!=v&&v!=l){for(l=v;x<s.length;){for(k="";k.length<l&&(P=k,k+=s[x]+" ",!(++x>=s.length)););a.minCharsPerLine&&(u=s.slice(x).join(" "),u.length<a.minCharsPerLine&&(k+=u,P=k,x=s.length+2)),g=l-P.length,w=k.length-l,w>g&&P.length>=(a.minCharsPerLine||2)?(C=P,x--):C=k,m=t.trim(C).length,C=t("<div/>").text(C).html(),a.wrapAmpersand&&(C=C.replace(/&amp;/g,'<span class="amp">&amp;</span>')),C=t.trim(C),b.push('<span class="slabtext slabtext-linesize-'+Math.floor(m/10)+" slabtext-linelength-"+m+'">'+C+"</span>")}i.html(b.join(" ")),f&&i.wrapInner('<a href="'+f+'" '+(p?'title="'+p+'" ':"")+"/>")}}t("span.slabtext",i).each(function(){var e,i,n,o=t(this),s=o.text(),l=s.split(" ").length>1;a.postTweak&&o.css({"word-spacing":0,"letter-spacing":0}),i=h/o.width(),n=parseFloat(this.style.fontSize)||r,o.css("font-size",Math.min((n*i).toFixed(a.precision),a.maxFontSize)+"px"),e=a.postTweak?h-o.width():!1,e&&o.css((l?"word":"letter")+"-spacing",(e/(l?s.split(" ").length-1:s.length)).toFixed(a.precision)+"px")}),i.addClass("slabtextdone"),"function"==typeof a.onRender&&a.onRender.call(n)}};m(),a.noResizeEvent||t(window).resize(function(){t(window).width()!=d&&(d=t(window).width(),clearTimeout(h),h=setTimeout(m,a.resizeThrottleTime))})}})},t.fn.slabText.defaults={fontRatio:.78,forceNewCharCount:!0,wrapAmpersand:!0,headerBreakpoint:null,viewportBreakpoint:null,noResizeEvent:!1,resizeThrottleTime:300,maxFontSize:999,postTweak:!0,precision:3,minCharsPerLine:0,onRender:null}}(jQuery),$("[data-fit]").slabText();var mainPosition=$("[data-main]").offset(),mainPositionWidth=$("[data-main]").width(),mainPositionHeight=$("[data-main]").height();$("[data-work]").click(function(){$("[data-links]").each(function(){var t=makeNewPosition($(this).parent());$(this).css({opacity:"1",position:"absolute",top:t[0],left:t[1]}),animateDiv($(this))})});